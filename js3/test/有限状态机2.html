<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>有限状态机</title>
    <script src='state-machine.js'></script>

</head>

<body>
    <button id="btn1" onclick="melt()">冰融化成水</button>
    <button id="btn2" onclick="freeze()">水结冰</button>
    <p></p>
    <script>
        var fsm = new StateMachine({
            init: 'solid',
            transitions: [
                { name: 'melt', from: 'solid', to: 'liquid' },
                { name: 'freeze', from: 'liquid', to: 'solid' }
            ],
            methods: {
                onMelt: function () { console.log('I melted') },
                onFreeze: function () { console.log('I froze') }
            }
        });
        fsm.melt();
        console.log(fsm.state);
        // function melt(){
        //     if(fsm.is('solid')){
        //         fsm.melt();
        //         alert("我是水");
        //     } else{
        //         alert('已经很水了');
        //     }
        // }
        // function freeze(){
        //     if(fsm.is('liquid')){
        //         fsm.freeze();
        //         alert("我是冰");
        //     } else{
        //         alert('已经很冰了');
        //     }
        // }
    </script>
</body>

</html>